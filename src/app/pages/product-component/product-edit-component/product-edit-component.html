<h2 class="text-xl font-semibold mb-4">
    {{ isEdit ? 'Editar Producto' : 'Nuevo Producto' }}
</h2>

<form [formGroup]="form" (ngSubmit)="persist()" class="product-form">

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">

        <mat-form-field appearance="outline">
            <mat-label>Nombre</mat-label>
            <input matInput formControlName="nameProduct" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Descripción</mat-label>
            <input matInput formControlName="descriptionProduct" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Presentación</mat-label>
            <input matInput formControlName="presentationProduct" placeholder="Ej. Tabletas 500mg" />
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Precio Unitario</mat-label>
            <input matInput type="number" formControlName="unitPriceProduct" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Stock</mat-label>
            <input matInput type="number" formControlName="stockProduct" required />
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Categoría</mat-label>
            <mat-select formControlName="category">
                <mat-option *ngFor="let c of categories" [value]="c">{{ c.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Familia</mat-label>
            <mat-select formControlName="family">
                <mat-option *ngFor="let f of families" [value]="f">{{ f.name }}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Laboratorio</mat-label>
            <mat-select formControlName="laboratory">
                <mat-option *ngFor="let l of laboratories" [value]="l">{{ l.name }}</mat-option>
            </mat-select>
        </mat-form-field>

    </div>

    <div class="flex gap-3 mt-5">
        <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
            {{ isEdit ? 'Actualizar' : 'Guardar' }}
        </button>
        <button mat-raised-button color="warn" routerLink="/products">Cancelar</button>
    </div>
</form>